<!DOCTYPE html>
<html>
    <head>
        <title>jq and Chart js</title>

        <link rel="stylesheet" href="css/style.css"/>
        <script src="js/lib/Chart.js"></script>
        <script src="js/lib/jquery-3.4.1.min.js"></script>
        <script src="js/jq-charter.js"></script>

        <script type="text/javascript">
            function randoms() {
                var x = [1,2,3,4,5];

                return x.map(function(y) {
                    return Math.ceil(Math.random() * 100);
                });
            }

            function getopts() {
                var opts = {
                    data: {
                        labels: ['a','b','c','d','e','f'],
                        datasets: [
                            {
                                label: "test",
                                data: randoms(),
                                backgroundColor: '#333',
                                borderColor: '#000',
                                borderWidth: 0,
                            }
                        ]
                    },
                    options: {
                        legend: {
                            labels: {usePointStyle: true}
                        }
                    },
                    type: 'bar',
                };
                return opts;
            }

            $(function() {
                function chartit() {
                    for (var i=0; i<3; i++) {
                        var id = '#mychart' + i;

                        $(id).chartify(getopts());
                    }
                }
                
                chartit();

                $('#update-btn').on('click', function() {
                    chartit();
                });
            });
        </script>
    </head>

    <body>
        <h1>Chart.js Combined with jQuery</h1>

        <h2>Chart it!</h2>
        <p>Create a chart from scratch with a single canvas, using jQuery to make things easier.</p>
        <button id="update-btn">Update</button>

        <div>
            <canvas id="mychart0"></canvas>
        </div>
        <div>
            <canvas id="mychart1"></canvas>
        </div>
        <div>
            <canvas id="mychart2"></canvas>
        </div>
    </body>
</html>